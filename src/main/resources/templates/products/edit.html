<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Редактировать Продукт</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body>
<h1>Редактировать Продукт</h1>
<form th:action="@{/products/update/{id}(id=${product.id})}" th:object="${product}" method="post">
    <div>
        <label for="name">Название:</label>
        <input type="text" id="name" th:field="*{name}" />
        <span th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></span>
    </div>
    <div>
        <label for="description">Описание:</label>
        <textarea id="description" th:field="*{description}"></textarea>
        <span th:if="${#fields.hasErrors('description')}" th:errors="*{description}"></span>
    </div>
    <div>
        <label for="price">Цена:</label>
        <input type="number" step="0.01" id="price" th:field="*{price}" />
        <span th:if="${#fields.hasErrors('price')}" th:errors="*{price}"></span>
    </div>
    <div>
        <label for="category">Категория:</label>
        <select id="category" th:field="*{category.id}">
            <option value="" disabled>Выберите категорию</option>
            <option th:each="category : ${categories}"
                    th:value="${category.id}"
                    th:text="${category.name}"
                    th:selected="${category.id} == ${product.category.id}">Категория</option>
        </select>
        <span th:if="${#fields.hasErrors('category')}" th:errors="*{category}"></span>
    </div>
    <div>
        <label for="supplier">Поставщик:</label>
        <select id="supplier" th:field="*{supplier.id}">
            <option value="" disabled>Выберите поставщика</option>
            <option th:each="supplier : ${suppliers}"
                    th:value="${supplier.id}"
                    th:text="${supplier.name}"
                    th:selected="${supplier.id} == ${product.supplier.id}">Поставщик</option>
        </select>
        <span th:if="${#fields.hasErrors('supplier')}" th:errors="*{supplier}"></span>
    </div>
    <div>
        <button type="submit">Обновить</button>
        <a th:href="@{/products}">Отмена</a>
    </div>
</form>
</body>
</html>
